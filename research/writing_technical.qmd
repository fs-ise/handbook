---
title: "Writing - technical"
---

::: callout-note
If you would like to contribute to an existing project, jump to the [edit-the-paper](#edit-the-paper) section.

TODO: create an overview (quarto, Markdown, references, paper templates, file structure, practices)

:::


## Templates

TODO: refer to paper templates, explain Markdown/BiBTex/Git/CSL setup

## Citations and reference sections

Citing allows us to make the results of others understandable and give proper recognition to the authors.
There are two main reasons why we cite: firstly, to respect copyrighted works, and secondly, to adhere to the principles of good scientific practice by appropriately acknowledging the contributions of others.
The following examples use Markdown syntax (used by Pandoc converters and Quarto).

::: {.callout-note title="Word/Zotero" collapse=true}
For `docx ` formats, use a reference manager plugin (such as Zotero).
The reference manager should support the standardized citation styles of [csl](https://editor.citationstyles.org/about/){target=_blank}.
:::

To include citations,

- Add them to the [references](#bib-file)
- [Cite](#citing) them in the text, and 
- Generate the [bibliography](#bibliography).

#### References (BibTeX file){#bib-file}

The bibliography is stored as a bib file (typically `references.bib`) and versioned by git.


- Changes in the bib-file should be checked before committing.
- References should be as complete as possible, including the relevant fields.
- Each reference should be listed once (not multiple times).
- Examples with relevant fields are summarized below.

::: {.callout-note title="Formatting guidelines"}

**Fields**

- `ENTRYTYPE` set correctly (e.g., "article" or "inproceedings")
- `author` formatted correctly (Wagner, G. and Prester, J.)
- `title` complete and in Sentence case (e.g., "On the origin of species", not "On the Origin of Species")
- `journal` field complete and in Title Case (e.g., "Journal of Information Technology", not "JIT")
- `volume`, `number`, `pages`, `doi` fields added

To update references based on Crossref, the `colrev-sync` package can be used:

```sh
colrev-sync sync
```

**Notes**

- Add `{}` to protect cases when necessary (e.g., `{J}ab{R}ef`) because CSL styles that require title case will use an automatic title-case conversion ([1](https://citationstyles.org/authors/#/titles-in-sentence-and-title-case){target=_blank}).
- To cite software, datasets and other artifacts, [CiteAs](https://citeas.org/){target=_blank} is useful.
- Journal fields: Some CSL styles require abbreviations.
  Temporarily replace the journal field in the bib-file since CSL does not handle style-specific journal abbreviations ([1](https://citationstyles.org/authors/#/csl-limitations){target=_blank}).
  JSON-files containing journal abbreviations can be passed to pandoc using the [citation-abbreviations](https://pandoc.org/MANUAL.html#option--citation-abbreviations){target=_blank} field.

:::

- Journal articles

```bibtex
@article{LeeAnderson2001,
    doi                = {10.1006/COGP.2000.0747},
    author             = {Anderson, John R},
    journal            = {Cognitive Psychology},
    title              = {Does learning a complex task},
    year               = {2001},
    volume             = {42},
    number             = {3},
    pages              = {267--316},
}
```

- Conference Papers

```bibtex
@inproceedings{LeeAnderson2001,
    author             = {Weber, Matthias and Remus, Ulrich and Pregenzer, Michael},
    booktitle          = {Proceedings of the International Conference on Information Systems},
    title              = {A New Era of Control: Understanding Algorithmic Control in the Gig Economy},
    year               = {2022},
}
```

- Books:

```bibtex
@book{Kolb2014,
    author             = {Kolb, David A},
    title              = {Experiential learning},
    year               = {2014},
    publisher          = {FT press},
}
```

- Essays in collected editions:

```bibtex
@incollection{Anderson1984a,
    author             = {Anderson, Richard C},
    booktitle          = {Theoretical models},
    title              = {Role of the reader's schema in comprehension, learning, and memory},
    year               = {2018},
    pages              = {136--145},
    publisher          = {Routledge},
}
```

- Websites

```bibtex
@online{Microsoft2018,
    author             = {Microsoft News Center},
    title              = {Microsoft to acquire GitHub for $7.5 billion},
    year               = {2018},
    url                = {https://news.microsoft.com/2018/06/04/microsoft-to-acquire-github-for-7-5-billion/},
}
```

<!--
Program that can be used for citation is "Zotero".
You can find the program and how to install it [here](https://www.uni-bamberg.de/ub/literaturverwaltung/){target=_blank}.
-->

#### In-text citations{#citing}

In-text citations can be parenthetical or narrative (see [APA style](https://apastyle.apa.org/style-grammar-guidelines/citations/basic-principles/parenthetical-versus-narrative){target=_blank}).
In word-for-word quotations (parenthetical or narrative) must be identified by quotation marks and a page number must be given.
Parenthetical citations tend to be preferred over narrative citations because they put more emphasis on the content, concepts, or findings instead of the authors. 

The following example illustrates the citation syntax of Markdown (or the Pandoc converters used by Quarto) ([link](https://pandoc.org/demo/example33/8.20-citation-syntax.html){target=_blank}).
The unique IDs (e.g., ``SmithEtAl2006``) are used to link citations to the corresponding elements in the `BibTeX` file.

```Markdown
<!-- Example *parenthetical* citation: -->

Fitness trackers were found to have mixed effects on sedentary behavior [@SmithEtAl2006].

<!-- Example *narrative* citation: -->

@SmithEtAl2006 analyzed the effectiveness of fitness trackers.

<!-- Example *word-for-word quotation*: -->

For fitness trackers, "measures of sleep quality are inaccurate" [@SmithEtAl2006, p. 111].
```

When rendered with Quarto and the APA citation style, this will be displayed as:

> Fitness trackers were found to have mixed effects on sedentary behavior (Smith et al. 2006).
> 
> Smith et al. (2006) analyzed the effectiveness of fitness trackers.
> 
> For fitness trackers, "measures of sleep quality are inaccurate" (Smith et al. 2006, p.111):

#### Bibliography{#bibliography}

In Markdown document, the bibliography (aka. references section) is created automatically based on the bib-file and [CSL](https://citationstyles.org/){target=_blank} specified in the YAML header.
The `nocite` field can be used to add references that are cited in figures/tables but not in the text.

```Markdown
---
title: "Writing"
bibliography: path_to_/references.bib
csl: path_to/apa.csl
nocite: |
  @Davis1989
  @LangePfarrer2017
  @StrunkWhite1999
  @WebsterWatson2002
---

... text with citations


# References

<!-- References will be generated in the specified csl-style after this heading. -->

```

## Conceptual illustrations and plots

For conceptual illustrations, PowerPoint is currently recommended.

- Ensure alignment etc.
- For PDF submissions, extract it as PDF (vector graphic with embedded text).
- For Word submissions, extract it as EMF (vector graphic with embedded text).

To plot findings, the R package [ggplot2](https://ggplot2.tidyverse.org/){target=_blank} is recommended.
Ggplot2 is a powerful library and allows us to automatically update the figures when the findings change. 

::: callout-note
It is possible to edit ggplot2 plots with LLMs (e.g., ChatGPT).
:::

The paper development process is based on markdown, git, Docker, pandoc, and csl.
The goal is to support the collaborative writing process effectively, building on powerful open source tools, and supporting efficient production of documents for submission.

Start your manuscript development by using the [Markdown template](https://github.com/digital-work-lab/paper-template){target=_blank}. This template provides a structured format for your initial drafts, helping to organize content efficiently.

## Initial setup

This section explains how to install the environment and build the paper.
[Git](https://git-scm.com/){target=_blank}, [Docker](https://www.docker.com/){target=_blank} and make are required.
The following steps describe how to

1. Set up the repository (create a new one or contribute to an existing one),
2. Set up the paper production pipeline, and
3. Build the paper

The manuscript template creates the following files (additional [files for the analysis](/research/analysis_templates.html) can be added)

```text
├── README.md     <- Readme containing summaries of the paper's revisions (completed
│                    and ongoing). Revision sheets are created from this document.
├── paper.md      <- Contains the paper
├── Makefile      <- Contains instructions to build the paper (as pdf or docx),
│                    and run the analyses (if a Makefile exists in the analysis
│                    directory)
├── Dockerfile    <- Describes the pandoc container for building the paper
│                    (called by the Makefile)  
├── literature    <- Directory containing literature summaries for Obsidian
├── figures       <- Directory contains all conceptual figures
├── output        <- Directory contains all output, such as data plots and
│                    tables, which is generated by the scripts (do not store
│                    anything else that is not generated by the scripts in this
│                    directory)
└── .gitignore    <- Contains a list of files that are excluded from git
                     versioning (e.g., paper.pdf, which would create conflicts
                     when merging changes)
```

Templates (\*.docx, \*.tex) and styles (\*.csl) are versioned in the paper repository.
This can be accomplished by using the code in comments at the beginning of the Makefile.

### 1: Set up the repository

Option 1: Create a new repository

- Select a short and pronounceable title for the paper
- Do not refer to papers by their target journal (e.g., "the Journal of Information Technology paper")
- Use labot to set up the paper:

```sh
labot paper --init
```

::: {.callout-note title="Manual setup" collapse=true}
```sh
git clone git@github.com:digital-work-lab/paper-template.git
# MANUALLY rename the folder using a short project title
# remove the .git directory containing older versions
rm -rf .git
# repo setup:
git init
# MANUALLY create paper (update titles etc.)
mkdir analysis data figures output
pre-commit install
cd .git/hooks
cp ../../post-xxx-sample.txt post-checkout
cp post-checkout post-merge
cp post-checkout post-commit
rm ../../post-xxx-sample.txt
cd ../..
git add .
git commit -m 'initial commit'
make pdf
# connect to git remote
# MANUALLY update url in the following line
git remote add origin https://github.com/....
git branch -M main
git push -u origin main
# MANUALLY invite coauthors/provide access to the remote repository
# git clone template-repository
# git clone https://github.com/citation-style-language/styles
# MANUALLY symlink the templates and styles repos
```
:::

Option 2: Contribute to an existing repository

```sh
# pull repository
git clone git@github.com:digital-work-lab/...
pre-commit install
```

### 2: Set up the paper production pipeline

```sh
# Build the Docker container
make build
# MANUALLY select a citation style by updating the link at the beginning of the Makefile
# MANUALLY select templates for docx/tex by updating the link at the beginning of the Makefile
```

- Citation styles can be selected [here](https://github.com/citation-style-language/styles){target=_blank}
- Templates are available [here](https://github.com/digital-work-lab/templates){target=_blank}

### 3: Build the paper

```sh
make pdf
make docx
```
## Edit the paper

The `paper.md` is written in markdown.
There are three ways to edit a paper:

### GitHub Edit

- Does not support PDF/DOCX generation
- Does not support commits changing multiple files
- Requires an Internet connection
- No setup required

::: {.callout-note title="Short illustration" collapse=true}
![Illustration](https://raw.githubusercontent.com/digital-work-lab/handbook/main/assets/images/edit-paper-github.gif){target=_blank}
:::

### Codespace Edit

- Supports PDF/DOCX generation
- Supports all types of commits
- Requires an Internet connection
- No setup required

::: {.callout-note title="Short illustration" collapse=true}
![Illustration](https://raw.githubusercontent.com/digital-work-lab/handbook/main/assets/images/edit-paper-codespaces.gif){target=_blank}
:::

### Local Edit

- Supports PDF/DOCX generation
- Supports all types of commits
- Does not require an Internet connection
- Requires some setup

::: {.callout-note title="Short illustration" collapse=true}
![Illustration](https://raw.githubusercontent.com/digital-work-lab/handbook/main/assets/images/edit-paper-local.gif){target=_blank}
:::

## Markdown hints {#markdown}

Useful guides on markdown are available online ([1](https://bookdown.org/yihui/rmarkdown/){target=_blank}, [2](https://bookdown.org/yihui/rmarkdown-cookbook/){target=_blank}).
 
It is good practice to

- Begin **each sentence in a new line** to make the history more readable and to make merging easier (see [semantic line breaks](https://sembr.org/){target=_blank}).

<!-- 
In local setups, several editors are available for markdown documents, for example:

- [Atom](https://shd101wyy.github.io/markdown-preview-enhanced/#/){target=_blank} with [markdown-preview-enhanced](https://github.com/shd101wyy/markdown-preview-enhanced){target=_blank}
- [Panwriter](https://panwriter.com/){target=_blank}
 -->

See [citations and reference sections](TODO)

::: callout-note
**Literature summaries: Obsidian**

Literature summaries for each paper are stored in Obsidian format in the `literature` directory.
:::

## Resources

The paper-template is based on the following underlying architectural principles and considerations.

- Minimal functionality: the most frequent use cases (writing, citing, creating submission files in docx/latex format with different templates and citation styles) must be supported in a highly efficient way.
More complex functionality (such as tables with merged cells and detailed formatting) is used less frequently (requiring less effort if not supported in an efficient way).
It may also create fewer problems (e.g., merging complex tables - as in Word/comparisons of tables)

Advantages of the markdown/pandoc workflow:

- Separation of content and format
- Collaboration and versioning of text with Git
- Relying on active open source projects such as the [CSL](https://citationstyles.org/){target=_blank} standard
- Flexibility regarding the bibliography type (pandoc supports .bib, .enl, ...)
- Combined writing and comments in the same document
- Reproducibility across platforms
- Generating docx/tex/pdf as output

Since the underlying open source projects (especially CSL, pandoc, pandoc-citeproc) evolve constantly, it is recommended to work with the latest versions.
This is a limitation of the popular [manubot project](https://github.com/manubot/rootstock){target=_blank} or [pandoc scholar](https://github.com/pandoc-scholar/pandoc-scholar){target=_blank}, which work with old versions of pandoc (which may be hard to update).

Possible extensions (lua-filters): [bibexport](https://github.com/pandoc/lua-filters/tree/master/bibexport){target=_blank}, [abstract-to-meta](https://github.com/pandoc/lua-filters/tree/master/abstract-to-meta){target=_blank}, [spellcheck](https://github.com/pandoc/lua-filters/tree/master/spellcheck){target=_blank}, [wordcount](https://github.com/pandoc/lua-filters/tree/master/wordcount){target=_blank}.

- [pandoc journal templates](https://github.com/sachsmc/pandoc-journal-templates){target=_blank}


## TODO: integrate this (should it be paper (template) or project (repository setup)?):

Papers are cited using the citation keys in the `references.bib` file and the citation syntax `@Webster2002` or `[@Webster2002]`.
Groups of in-text citations should be sorted alphabetically (especially if a prefix is used), i.e., use `[e.g., @Bacharach1989; @Gregor2006a]` instead of `[e.g., @Gregor2006a; @Bacharach1989]`.

The syntax is based on the [citation syntax](https://pandoc.org/MANUAL.html#citation-syntax){target=_blank} (see [CSL](https://citationstyles.org/){target=_blank}).

To add papers that are cited in the figure to the reference section, include the following in the YAML header of paper.md:

```Markdown
---
title: ...
author: ...
nocite: |
  @citation_key
---
```

Further Information on the [citation syntax](https://pandoc.org/MANUAL.html#citation-syntax){target=_blank} is available in the pandoc manual.

Figures can be included as follows and referred to as `@fig:distribution`.
Further information on [pandoc-crossref](https://lierdakil.github.io/pandoc-crossref/){target=_blank} is available online.

```Markdown
![Figure Caption](figures/figure.jpg){#fig:distribution width=300px}
```

To ensure compatibility with pandoc word and latex conversion, figures should be included as jpg/png.
For the final versions, vector graphics (PDF, EMF) should be included for Latex/Word respectively.

Formulas can be included as follows:

```latex
$$ P_i(x) = \sum_i a_i x^i $$ {#eq:eqn1}
```

Tables can be created with [GridTables](https://pandoc.org/MANUAL.html#extension-grid_tables){target=_blank} (which is displayed in PDF and Word documents):

```Markdown
+---------------------+----------+
| Property            | Earth    |
+=============+=======+==========+
|             | min   | -89.2 °C |
| Temperature +-------+----------+
| 1961-1990   | mean  | 14 °C    |
|             +-------+----------+
|             | max   | 56.7 °C  |
+-------------+-------+----------+

Table: Findings {#tbl:findings}

We show the findings in @tbl:findings.
```

[Markdown table editor](https://www.tablesgenerator.com/markdown_tables){target=_blank}

Footnotes:

```Markdown
Text with a footnote [^1].

  [^1]: Example footnote.
```

Information on references and citations is in [editing-markdown-paper](/research/writing_conceptual.html) section.

Books: [bookdown](https://bookdown.org/yihui/bookdown/){target=_blank} project.

